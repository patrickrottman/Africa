import{a as I,b as T}from"./chunk-5XPNUKIO.js";import{c as z,d as J}from"./chunk-ROGIGCUD.js";import{c as k}from"./chunk-OKGBDOUZ.js";import{E as j,F as E}from"./chunk-3PFQFA46.js";import{Ab as M,Bb as l,Ib as O,Lb as i,Mb as f,Ob as b,Pa as a,Rb as w,Vb as S,_ as g,da as C,db as x,ea as v,mb as s,nb as m,pb as h,qb as _,rb as u,sb as o,tb as n,ub as P,yb as y}from"./chunk-D6KF5352.js";var F=e=>["/photo",e],A=(e,r)=>r.date,L=(e,r)=>r.id;function V(e,r){if(e&1&&(o(0,"p",15),i(1),n()),e&2){let t=l().$implicit;a(),f(t.description)}}function $(e,r){if(e&1){let t=y();o(0,"a",11),M("click",function(){C(t);let p=l(2);return v(p.onPhotoClick())}),o(1,"div",12),P(2,"app-responsive-image",13),o(3,"div",14)(4,"mat-icon"),i(5,"fullscreen"),n()()(),s(6,V,2,1,"p",15),n()}if(e&2){let t=r.$implicit;u("routerLink",w(6,F,t.id)),a(),O("aspect-ratio",t.aspectRatio),a(),u("variant",t.variants.thumb)("alt",t.description||"Safari photo"),a(4),m(t.description?6:-1)}}function N(e,r){if(e&1&&(o(0,"section",4)(1,"h2",6)(2,"mat-icon"),i(3,"calendar_today"),n(),o(4,"span",7),i(5),n(),o(6,"span",8),i(7),n()(),o(8,"div",9),h(9,$,7,8,"a",10,L),n()()),e&2){let t=r.$implicit,c=l();a(5),f(c.formatDate(t.date)),a(2),b("",t.photos.length," ",t.photos.length===1?"photo":"photos"),a(2),_(t.photos)}}function R(e,r){e&1&&(o(0,"mat-icon",16),i(1,"photo_library"),n(),o(2,"p"),i(3,"Loading journal..."),n())}function B(e,r){e&1&&(o(0,"mat-icon"),i(1,"event_busy"),n(),o(2,"p"),i(3,"No journal entries yet"),n())}function Y(e,r){if(e&1&&(o(0,"div",5),s(1,R,4,0)(2,B,4,0),n()),e&2){let t=l();a(),m(t.photoService.isLoading()?1:2)}}var D=class e{scrollService=g(I);photoService=g(J);formatDate=z;groupedPhotos=S(()=>{let r=this.photoService.photosByDate(),t=[],c=this.photoService.photos();for(let[p,d]of r)t.push({date:p,photos:d});return t.sort((p,d)=>d.date.localeCompare(p.date))});ngAfterViewInit(){this.scrollService.restorePosition("journal")}onPhotoClick(){this.scrollService.savePosition("journal")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-journal"]],decls:11,vars:1,consts:[[1,"journal-container"],[1,"journal-header"],[1,"eyebrow"],[1,"subtitle"],[1,"day-section"],[1,"empty-state"],[1,"day-header"],[1,"date"],[1,"count"],[1,"day-grid"],[1,"photo-card",3,"routerLink"],[1,"photo-card",3,"click","routerLink"],[1,"photo-wrapper"],["imgClass","photo-img",3,"variant","alt"],[1,"photo-overlay"],[1,"photo-description"],[1,"loading-icon"]],template:function(t,c){t&1&&(o(0,"div",0)(1,"header",1)(2,"span",2),i(3,"Chronicles"),n(),o(4,"h1"),i(5,"Photo Journal"),n(),o(6,"p",3),i(7,"A chronological journey through the African bush"),n()(),h(8,N,11,3,"section",4,A),s(10,Y,3,1,"div",5),n()),t&2&&(a(8),_(c.groupedPhotos()),a(2),m(c.groupedPhotos().length===0?10:-1))},dependencies:[k,E,j,T],styles:[".journal-container[_ngcontent-%COMP%]{padding:3rem 1.5rem;max-width:1200px;margin:0 auto}.journal-header[_ngcontent-%COMP%]{margin-bottom:3rem;text-align:center}.eyebrow[_ngcontent-%COMP%]{display:inline-block;font-size:.75rem;font-weight:600;letter-spacing:.15em;text-transform:uppercase;color:var(--color-ochre);margin-bottom:.5rem}.journal-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .75rem;color:var(--color-text)}.subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--color-text-secondary);margin:0;line-height:1.6}.day-section[_ngcontent-%COMP%]{margin-bottom:3.5rem}.day-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:0 0 1.5rem;padding:1rem 0;border-bottom:2px solid var(--color-border);position:sticky;top:64px;background:var(--color-background);z-index:10}.day-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-ochre);font-size:22px;width:22px;height:22px}.day-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:1.5rem;font-weight:500;color:var(--color-text)}.day-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);font-weight:400;margin-left:auto;background:var(--color-surface);padding:.25rem .75rem;border-radius:var(--radius-full);border:1px solid var(--color-border)}.day-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.25rem}.photo-card[_ngcontent-%COMP%]{display:block;text-decoration:none;color:inherit;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,.1);touch-action:manipulation}.photo-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:var(--radius-lg);overflow:hidden;background:var(--color-surface-variant);box-shadow:var(--shadow-sm);transition:transform .3s ease,box-shadow .3s ease;min-height:150px}.photo-card[_ngcontent-%COMP%]:hover   .photo-wrapper[_ngcontent-%COMP%]{transform:translateY(-4px);box-shadow:var(--shadow-lg)}[_nghost-%COMP%]     .photo-img{width:100%;height:100%;object-fit:cover;transition:transform .4s ease;pointer-events:none}.photo-card:hover   [_nghost-%COMP%]     .photo-img{transform:scale(1.05)}.photo-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000;display:flex;align-items:center;justify-content:center;transition:background .3s ease;pointer-events:none}.photo-overlay[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:32px;width:32px;height:32px;opacity:0;transform:scale(.8);transition:opacity .3s ease,transform .3s ease}.photo-card[_ngcontent-%COMP%]:hover   .photo-overlay[_ngcontent-%COMP%]{background:#0000004d}.photo-card[_ngcontent-%COMP%]:hover   .photo-overlay[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.photo-description[_ngcontent-%COMP%]{margin:.875rem 0 0;font-size:.95rem;color:var(--color-text-secondary);line-height:1.6}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:6rem 1.5rem;color:var(--color-text-secondary)}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:var(--color-text-muted);margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin:0}.loading-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:.4}50%{opacity:1}}@media (max-width: 600px){.journal-container[_ngcontent-%COMP%]{padding:2rem 1rem}.journal-header[_ngcontent-%COMP%], .day-section[_ngcontent-%COMP%]{margin-bottom:2.5rem}.day-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:.75rem}.photo-wrapper[_ngcontent-%COMP%]{border-radius:var(--radius-md)}.photo-card[_ngcontent-%COMP%]:hover   .photo-wrapper[_ngcontent-%COMP%]{transform:none}.photo-overlay[_ngcontent-%COMP%]{display:none}.photo-description[_ngcontent-%COMP%]{font-size:.85rem;margin-top:.5rem}}@media (prefers-reduced-motion: reduce){.photo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]     .photo-img, .photo-overlay[_ngcontent-%COMP%], .photo-overlay[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transition:none}.photo-card:hover   [_nghost-%COMP%]     .photo-img{transform:none}.loading-icon[_ngcontent-%COMP%]{animation:none}}"]})};export{D as JournalComponent};
